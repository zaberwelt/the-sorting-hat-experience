<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Sorting Hat Ceremony</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Poppins:wght@300;400&display=swap');

* { box-sizing: border-box; }

body {
    margin: 0;
    min-height: 100vh;
    font-family: 'Poppins', sans-serif;
    color: #eaeaff;
    background: radial-gradient(circle at top, #0a0f2a, #000);
    overflow-x: hidden;
}

/* ===== STAR BACKGROUND ===== */
.stars, .stars2 {
    position: fixed;
    width: 200%;
    height: 200%;
    background-repeat: repeat;
    animation: moveStars 120s linear infinite;
    z-index: -2;
}
.stars {
    background-image: radial-gradient(#ffffff55 1px, transparent 1px);
    background-size: 80px 80px;
}
.stars2 {
    background-image: radial-gradient(#88aaff88 1px, transparent 1px);
    background-size: 120px 120px;
    animation-duration: 200s;
}
@keyframes moveStars {
    from { transform: translate(0,0); }
    to { transform: translate(-500px,-500px); }
}

/* ===== CONTAINER ===== */
.container {
    max-width: 820px;
    margin: auto;
    padding: 40px 20px 80px;
    text-align: center;
}

/* ===== TITLE ===== */
h1 {
    font-family: 'Cinzel', serif;
    font-size: 2.6rem;
    letter-spacing: 3px;
    text-shadow: 0 0 15px #7aa2ff;
}

/* ===== HAT SVG ===== */
.hat {
    width: 220px;
    margin: 20px auto;
    animation: floatHat 4s ease-in-out infinite;
}
@keyframes floatHat {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-12px); }
}

/* ===== QUIZ BOX ===== */
.quiz-box {
    position: relative;
    margin-top: 40px;
    padding: 35px 25px;
    background: linear-gradient(180deg, #050b2a, #020416);
    border-radius: 22px;
    box-shadow: 0 0 40px #2f5cff33;
}

/* glowing corners */
.quiz-box::before, .quiz-box::after {
    content: "";
    position: absolute;
    inset: -3px;
    border-radius: 24px;
    background: linear-gradient(120deg,
        transparent 30%,
        #9fd4ff,
        #ffffff,
        #9fd4ff,
        transparent 70%);
    animation: glowMove 4s linear infinite;
    mask: 
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    mask-composite: exclude;
    padding: 3px;
}
.quiz-box::after {
    animation-delay: 2s;
    opacity: 0.6;
}
@keyframes glowMove {
    from { background-position: 0% 0%; }
    to { background-position: 200% 0%; }
}

.question {
    font-size: 1.2rem;
    margin-bottom: 20px;
}

.options button {
    display: block;
    width: 100%;
    margin: 10px 0;
    padding: 14px;
    border-radius: 14px;
    border: 1px solid #4a6cff55;
    background: rgba(10,15,60,0.6);
    color: #eaeaff;
    cursor: pointer;
    transition: all .3s ease;
}
.options button:hover {
    background: rgba(80,120,255,0.2);
    box-shadow: 0 0 15px #7aa2ff88;
}

/* ===== RESULT ===== */
.result {
    margin-top: 60px;
    animation: fadeIn 2s ease forwards;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

.house-img {
    width: 260px;
    margin: 25px auto;
    animation: pulse 3s infinite;
}
@keyframes pulse {
    0%,100% { filter: drop-shadow(0 0 10px #88aaff); }
    50% { filter: drop-shadow(0 0 25px #ffffff); }
}

.house-name {
    font-family: 'Cinzel', serif;
    font-size: 2.2rem;
    letter-spacing: 4px;
}

.desc {
    max-width: 650px;
    margin: 20px auto;
    font-size: 1.05rem;
    line-height: 1.7;
}

.attr {
    margin-top: 20px;
    font-style: italic;
    color: #cfd9ff;
}
</style>
</head>

<body>
<div class="stars"></div>
<div class="stars2"></div>

<div class="container" id="app">
    <h1>Sorting Hat Ceremony</h1>

    <!-- HAT SVG ART -->
    <svg class="hat" viewBox="0 0 200 200">
        <path d="M40 160 Q100 180 160 160 L150 150 Q100 140 50 150 Z" fill="#3b2b1f"/>
        <path d="M70 40 Q100 10 130 40 L150 150 Q100 140 50 150 Z" fill="#5a3d28"/>
        <circle cx="110" cy="90" r="5" fill="#111"/>
    </svg>

    <div class="quiz-box" id="quiz"></div>
</div>

<script>
if (localStorage.getItem("sorting_done")) {
    document.getElementById("quiz").innerHTML =
        "<p>Kepalamu telah membaca keputusan. Sorting Hat tidak mengulang pilihan.</p>";
} else {

const questions = [
 {
  q:"Saat menghadapi masalah besar, apa yang paling kamu lakukan?",
  a:[
    {t:"Menghadapinya dengan keberanian penuh",h:"Ignivar"},
    {t:"Menyusun strategi sebelum bergerak",h:"Noctyra"},
    {t:"Mengikuti intuisi dan perasaan",h:"Aeralis"},
    {t:"Mencari jalan paling aman",h:"Terradon"}
  ]
 },
 {
  q:"Hal apa yang paling kamu hargai?",
  a:[
    {t:"Keberanian",h:"Ignivar"},
    {t:"Kecerdasan",h:"Noctyra"},
    {t:"Kebebasan",h:"Aeralis"},
    {t:"Kesetiaan",h:"Terradon"}
  ]
 },
 {
  q:"Bagaimana orang lain mengingatmu?",
  a:[
    {t:"Pemimpin berani",h:"Ignivar"},
    {t:"Pemikir tajam",h:"Noctyra"},
    {t:"Jiwa bebas",h:"Aeralis"},
    {t:"Sahabat setia",h:"Terradon"}
  ]
 },
 {
  q:"Tempat favoritmu?",
  a:[
    {t:"Medan tempur",h:"Ignivar"},
    {t:"Perpustakaan gelap",h:"Noctyra"},
    {t:"Langit terbuka",h:"Aeralis"},
    {t:"Rumah yang hangat",h:"Terradon"}
  ]
 },
 {
  q:"Jika gagal, apa reaksimu?",
  a:[
    {t:"Bangkit lebih kuat",h:"Ignivar"},
    {t:"Menganalisis kesalahan",h:"Noctyra"},
    {t:"Mencoba jalan baru",h:"Aeralis"},
    {t:"Bertahan perlahan",h:"Terradon"}
  ]
 }
];

let index = 0;
let score = {Ignivar:0, Noctyra:0, Aeralis:0, Terradon:0};
const quiz = document.getElementById("quiz");

function showQ() {
 let q = questions[index];
 quiz.innerHTML = `
   <div class="question">${q.q}</div>
   <div class="options">
     ${q.a.map(o=>`<button onclick="pick('${o.h}')">${o.t}</button>`).join("")}
   </div>`;
}
window.pick = function(h) {
 score[h]++;
 index++;
 if(index<questions.length) showQ();
 else result();
}

function result() {
 localStorage.setItem("sorting_done","yes");
 let house = Object.keys(score).reduce((a,b)=>score[a]>score[b]?a:b);

 const data = {
  Ignivar:{
    desc:"House api keberanian. Jiwa kepemimpinan dan tekad membara mengalir dalam darahmu.",
    attr:"Elemen: Api · Sifat: Berani · Warna: Merah Emas",
    color:"#ff6a3d"
  },
  Noctyra:{
    desc:"House bayangan kecerdasan. Strategi, logika, dan rahasia adalah kekuatanmu.",
    attr:"Elemen: Bayangan · Sifat: Cerdas · Warna: Biru Gelap",
    color:"#6a7cff"
  },
  Aeralis:{
    desc:"House angin kebebasan. Imajinasi dan intuisi menuntun setiap langkahmu.",
    attr:"Elemen: Angin · Sifat: Bebas · Warna: Perak Langit",
    color:"#9fd4ff"
  },
  Terradon:{
    desc:"House bumi kesetiaan. Keteguhan dan hati hangat adalah fondasimu.",
    attr:"Elemen: Bumi · Sifat: Setia · Warna: Hijau Kristal",
    color:"#7aff9f"
  }
 };

 quiz.innerHTML = `
 <div class="result">
   <div class="house-name" style="color:${data[house].color}">${house}</div>

   <!-- HOUSE SVG ART -->
   <svg class="house-img" viewBox="0 0 200 200">
     <polygon points="100,20 180,180 20,180" fill="${data[house].color}" opacity="0.85"/>
     <circle cx="100" cy="110" r="35" fill="#ffffffaa"/>
   </svg>

   <div class="desc">${data[house].desc}</div>
   <div class="attr">${data[house].attr}</div>
 </div>`;
}

showQ();
}
</script>
</body>
</html>
